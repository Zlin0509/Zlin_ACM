# 唐人迷宫

https://codeforces.com/problemset/problem/676/D

Zin 来到了一个神秘的迷宫，这个迷宫是一个 $n \times m$ 的矩形格子组成的区域，每个格子都是 $1 \times 1$ 的小方块。

迷宫的每一个格子上都有一个按钮，按下按钮会使得**整个迷宫中的所有格子顺时针旋转 $90^\circ$**。每个格子只会改变门的朝向，位置不变。每个格子可能带有若干门，也可能没有门。

在每一分钟内，Zin 可以执行以下两种操作之一：

- 按下按钮，使整个迷宫旋转 $90^\circ$（所有格子旋转）；
- 沿着当前格子的门移动到相邻的一个格子（上下左右方向）。

Zin 只能从当前格子移动到相邻格子，当且仅当：

- 当前格子有一扇门通向那个方向；
- 相邻格子也有一扇门通向当前格子。

现在，Zin 正处在格子 $(x_T, y_T)$，他要设法走到出口 $(x_M, y_M)$ 所在的位置。你需要帮他计算：**最少需要多少分钟才能走到出口**。

------

## 输入格式

第一行包含两个整数 $n$ 和 $m$（$1 \le n, m \le 1000$），表示迷宫的行数和列数。

接下来 $n$ 行，每行 $m$ 个字符，表示迷宫每个格子的类型。每个字符表示格子的门的状态，含义如下：

| 字符 |             含义             |
| :--: | :--------------------------: |
| `+`  | 上、下、左、右四个方向都有门 |
| `-`  |           左右有门           |
| `|`  |           上下有门           |
| `^`  |         只有上方有门         |
| `>`  |         只有右方有门         |
| `<`  |         只有左方有门         |
| `v`  |         只有下方有门         |
| `L`  |   除了左边，其余方向都有门   |
| `R`  |   除了右边，其余方向都有门   |
| `U`  |   除了上边，其余方向都有门   |
| `D`  |   除了下边，其余方向都有门   |
| `*`  |  墙体，没有任何门，无法通行  |



注意：

行从上到下编号为 $1$ 到 $n$，列从左到右编号为 $1$ 到 $m$。

接下来一行输入两个整数 $x_T, y_T$，表示 Zin 的起始位置。

最后一行输入两个整数 $x_M, y_M$，表示出口的位置。

保证起点和出口所在的格子都至少有一扇门。

Zin 和出口可能一开始就在同一个格子中。

------

## 输出格式

如果 Zin 无法到达出口位置，输出 `-1`。

否则，输出他到达出口所需的**最少分钟数**。