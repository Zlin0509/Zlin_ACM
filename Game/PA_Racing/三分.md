## PA赛车

## Body

这是一场赛车比赛，一个车组由车手$A$ 和车手 $B$ 组成，对于这两位车手，每位车手有一个已知的圈速表，用函数表示如下：

$f_{A(x)}=a_A⋅x+b_A$

$f_{B(x)}=a_B⋅x+b_B$

$f_{A(x)}$ 表示车手 $A$ 在第 $x$ 圈的圈速 ($x$ 从 $1$ 开始计算)

$f_{B(x)}$ 表示车手 $B$ 在第 $x$ 圈的圈速 ($x$ 从 $1$ 开始计算)

总共要跑n圈，每人至少要跑1圈，只允许进行一次换人，进站换人不消耗时间，请问如何分配每个人跑的圈数使最终总耗时最少

输出一个数字表示最少总耗时

## Input

第一行一个整数 $T$，表示测试数据组数。$(1 \leq T \leq 10^5)$

接下来 $T$ 行，每行五个整数 $n, a_1, b_1, a_2, b_2$，含义如下：

$2 \leq n \leq 10^9$，表示总圈数。

$1 \leq a_1, a_2 \leq 10^5$，表示每人每圈圈速增加的时间。

$1 \leq b_1, b_2 \leq 10^5$，表示起始圈速。

## Output

对于每组数据每行输出一个整数表示跑完 $n$ 圈所需要的最少时间 注意观察数据范围

## PAraring题解

闲谈：本来是想出一道三分，刚好玩ACC耐力赛有一个强制进站，就按三分的想法出了，最后验题的时候发现公式太简单了，初中数学直接就能推出结论，然后变签到了（本来数据范围$[2, 1e9]$
，要么上`__int128`要么手写高精度，但是被善良的超队ban了 ）

### 推结论

对于这两个人，每个人花的时间拿求和公式计算一下（初中数学）

##### 总公式：

$$
T(k) = \underbrace{\sum_{x=1}^{k} (a_1 \cdot x + b_1)}_{\text{A 跑前 } k \text{ 圈}} + \underbrace{\sum_{x=1}^{n-k} (a_2 \cdot x + b_2)}_{\text{B 跑后 } n-k \text{ 圈}}
$$

##### 化简：

$$
T(k) = a_1 \cdot \frac{k(k+1)}{2} + b_1 \cdot k + a_2 \cdot \frac{(n-k)(n-k+1)}{2} + b_2 \cdot (n-k)
$$

##### 最终表达式为：

$$
T(k) = \frac{a_1 + a_2}{2} \cdot k^2 + \left( \frac{a_1}{2} + b_1 - a_2 n - \frac{a_2}{2} - b_2 \right) \cdot k + \text{常数}
$$

化简完很容易找到对称轴，最后因为计算机int取整，只要在这个对称轴左右分别打个暴力全部计算一下去最小就好了

#### 三分算法

或者像我这样懒得化简的人，可以观察到这是一个单峰或者一个单谷函数，直接按照上面的总公式去三分寻找中间值，就是复杂度略高